---
folder: research
keywords: modular robots, electronics, hardware
permalink: research-modular-skymegasmd.html
sidebar: research
title: SkymegaSMD
toc: false
---


<img class="img-rounded" src="img/research/skymegasmd/gallery/01-skymegasmd.jpg" alt="SkymegaSMD feature picture">

{{ wiki:othersdef:skymegasmd:gallery:01-skymegasmd.jpg?500px |OpenSCAD render of the design}}

## Introduction
The SkymegaSMD is a board to control REPY-2 modules, with the suitable dimensions to be compatible with them. This board is a derivative from the original [Skymega](http://www.iearobotics.com/wiki/index.php?title=SkyMega) board, and it is also compatible with them, so it can also be used with [Y1](http://www.iearobotics.com/wiki/index.php?title=M%C3%B3dulos_Y1) / [MY1](http://www.iearobotics.com/wiki/index.php?title=M%C3%B3dulos_Y1) / [REPY-1](http://www.iearobotics.com/wiki/index.php?title=M%C3%B3dulos_REPY-1) modules.

The main improvements with respect to the original [Skymega](http://www.iearobotics.com/wiki/index.php?title=SkyMega) board are:

* The board is populated with surface-mount compoments (SMD) instead of through-hole components (THD). Using SMD components reduces the amount of PCB surface required by each component. This has allowed us to design a cleaner component layout, add extra components and route the board on the top layer, leaving the bottom layer entirely as a ground plane, reducing electrical noise and interferences. 
* A linear, Low-Dropout (LDO) regulator was added to the circuit in order to have a stable 5V supply to the microcontroller. A stable supply is required, for example, if using the analog inputs to measure a voltage. In this case, if the supply is not constant, the measured values will not have a common reference and will vary even if the voltage to be measured is the same. 
* The supply for the hobby servos has been split into two different power connectors. One of them supplies the LDO regulator that powers the microcontroller and 4 of the 8 servos that the board allows to use, whereas the other connector supplies the remaining 4 servos. The reason the supply has been split is because the hobby servos consume a high amount of current, and the inductive component generated by the DC motor introduces a large amount of noise in the power lines, that even resets the microcontroller when the 8 servos are connected to a single supply in the original [SkyMega](http://www.iearobotics.com/wiki/index.php?title=SkyMega) board. To reduce the effect of the motors on the power supply of the microcontroller, a capacitor was added next to each servo connector, and the power for the servos is supplied directly from the connector, not passing through the LDO regulator, so the regulated line is as clean as possible.
* The expansion port has been split into several smaller headers, to reduce the space occupied by the connector. A extra header has been added on the botton of the board for the connection with a optional Bluetooth serial transceiver.
* Two LEDs for power indication on both supplies and two LEDs for serial port transmission signalling were added. 


## Features
* Free Hardware (GPLv3 License)
* Arduino Compatible
* SMD components
* ATMega328p microprocessor at 16Mhz
* 8 servo connectors with 2 independent power supplies, each of them supplying power to 4 servos, and capacitors to reduce the influence of the motors on the rest of the electronics.
* 2 independent power supply connectors
* 5V regulator and ON/OFF switch on power supply 1
* I2C communication between SkymegaSMD boards
* ICSP connector for burning the bootloader
* 5 LEDs: 2 for power indication, 2 for serial communication indication and 1 user LED connected to Arduino pin 13
* User push switch for testing, connected to Arduino pin 2. Hardware interrupts can be attached to this pin to detect push switch activation.
* Several headers for the remaining unused Arduino pins
* Dual serial connector: one compatible with the original [SkyMega](http://www.iearobotics.com/wiki/index.php?title=SkyMega) connector and the other with a pinout suitable for a Bluetooth serial module.

## Version 1.1 fixes and known issues
### Fixes
* Corrected the footprint of the LDO regulator
* Crystal is now placed closer to the microcontroller to avoid parasitic effects (as suggested by Julio Galarón)
* Improvements on readability of some values on the silkscreen

### Known issues
* Extension port for D3, D4 is incorrectly labeled as D4, D5

## Pinout
![SkymegaSMD board pinout](img/research/skymegasmd/skymegasmd_pins.jpg)


## Usage instructions
Except for the push switch, that is connected to D2 in this board to be able to use external interrupts, the functionality of the board is the same as the SkyMega board, so the usage instructions on the [SkyMega wiki page (Spanish)](http://www.iearobotics.com/wiki/index.php?title=SkyMega) can be used as a reference.

## Gallery
{{gallery>wiki:othersdef:skymegasmd:gallery?200x200&4 }}

## Acknowledgements
This board is a derivative of the SkyMega board designed by [Juan González Gómez (Obijuan)](http://www.iearobotics.com/wiki/index.php?title=Juan_Gonzalez:Main).

<!--{% include links.html %}-->